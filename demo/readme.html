<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Demo &mdash; Intel® Device Plugins for Kubernetes  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Intel SGX admission controller for Kubernetes" href="../cmd/sgx_admissionwebhook/README.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Intel® Device Plugins for Kubernetes
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../README.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DEVEL.html">Instructions for Device Plugin Development and Maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docs/extensions.html">Extensions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Demo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#demo-overview">Demo overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#intel-gpu-device-plugin-demo-video">Intel® GPU Device Plugin demo video</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#demo-platform-configuration">Demo platform configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#screencast">Screencast</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#intel-fpga-device-plugin-demo-videos">Intel® FPGA Device Plugin demo videos</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#demo-1-and-2-nlb3-platform-configuration">Demo 1 and 2 (NLB3) platform configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#demo-3-opencl-platform-configuration">Demo 3 (OpenCL) platform configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#demo-steps">Demo steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="#screencasts">Screencasts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#intel-sgx-device-plugin-demo-videos">Intel® SGX Device Plugin demo videos</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Demo steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Screencasts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#intel-quickassist-technology-device-plugin-openssl-demo-video">Intel® QuickAssist Technology Device Plugin OpenSSL demo video</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Demo platform configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Demo steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">Screencast</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#intel-quickassist-technology-device-plugin-with-dpdk-demo-video">Intel® QuickAssist Technology Device Plugin with DPDK demo video</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id6">Demo steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">Screencast</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes">Project GitHub repository</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Intel® Device Plugins for Kubernetes</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Demo</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/demo/readme.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="demo">
<h1>Demo<a class="headerlink" href="#demo" title="Permalink to this heading"></a></h1>
<p>Table of Contents</p>
<ul class="simple">
<li><p><a class="reference external" href="#demo-overview">Demo overview</a></p></li>
<li><p><a class="reference external" href="#intel-gpu-device-plugin-demo-video">Intel® GPU Device Plugin demo video</a></p></li>
<li><p><a class="reference external" href="#intel-fpga-device-plugin-demo-videos">Intel® FPGA Device Plugin demo videos</a></p></li>
<li><p><a class="reference external" href="#intel-sgx-device-plugin-demo-videos">Intel® SGX Device Plugin demo videos</a></p></li>
<li><p><a class="reference external" href="#intel-quickassist-technology-device-plugin-openssl-demo-video">Intel® QuickAssist Technology Device Plugin OpenSSL demo video</a></p></li>
<li><p><a class="reference external" href="#intel-quickassist-technology-device-plugin-with-dpdk-demo-video">Intel® QuickAssist Technology Device Plugin with DPDK demo video</a></p></li>
</ul>
<section id="demo-overview">
<h2>Demo overview<a class="headerlink" href="#demo-overview" title="Permalink to this heading"></a></h2>
<p>Acceleration of compute and data processing of workloads like video
transcoding, compression, and encryption is enabled in Kubernetes with
the <a class="reference external" href="https://kubernetes.io/docs/concepts/extend-kubernetes/compute-storage-net/device-plugins/">Device Plugin Framework</a>. This repository
contains a set of Kubernetes plugins and instructions to enable Intel devices
for the acceleration of your workloads orchestrated by Kubernetes.</p>
<p>The current list of supported Intel Device Plugins includes:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes/blob/main/cmd/gpu_plugin/README.md">GPU Device Plugin</a> with support for <a class="reference external" href="https://www.intel.com/content/www/us/en/architecture-and-technology/visual-technology/graphics-overview.html">Intel® Graphics Technology</a></p></li>
<li><p><a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes/blob/main/cmd/fpga_plugin/README.md">Intel® FPGA Device Plugin</a></p></li>
<li><p><a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes/blob/main/cmd/qat_plugin/README.md">Intel® QuickAssist Technology (QAT) Device Plugin</a></p></li>
</ul>
<p>We have included an example demo and configuration information for the Intel
Device Plugins for Kubernetes below. Please join us on the sig-node-rtk channel
on <a class="reference external" href="https://kubernetes.slack.com/">kubernetes.slack.com</a> to ask questions,
contribute to the community, and learn about the work we are doing with
Kubernetes and the Device Plugin Framework.</p>
</section>
<section id="intel-gpu-device-plugin-demo-video">
<h2>Intel® GPU Device Plugin demo video<a class="headerlink" href="#intel-gpu-device-plugin-demo-video" title="Permalink to this heading"></a></h2>
<p>The screencast demonstrates the deployment of the Intel® GPU Device Plugin for
Kubernetes including Kubeless Function as a Service (FaaS) media transcoder
JavaScript function. The media transcoding workload is scheduled on two different worker nodes.
Only one worker node has a GPU. The time difference in transcoding speed is captured.</p>
<section id="demo-platform-configuration">
<h3>Demo platform configuration<a class="headerlink" href="#demo-platform-configuration" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>Hardware 2-nodes</p>
<ul>
<li><p>1x Virtual Machine on Intel® Xeon® E5-2687 CPU &#64; 3.0 GHz</p></li>
<li><p>1x Intel® NUC KIT NUC6i7KYK (Skull Canyon) with Intel integrated GPU</p></li>
</ul>
</li>
<li><p>Software</p>
<ul>
<li><p>Ubuntu* 18.04 (Kernel: 4.15.0-36-generic)</p></li>
<li><p>Kubernetes* 1.11</p></li>
<li><p>Docker* 18.3.1</p></li>
<li><p>Intel® GPU Device Plugin built from main branch</p></li>
</ul>
</li>
</ul>
</section>
<section id="screencast">
<h3>Screencast<a class="headerlink" href="#screencast" title="Permalink to this heading"></a></h3>
<p><a class="reference external" href="https://youtu.be/sg31rV1FdQk"><img alt="Intel® GPU Device Plugin demo" src="https://img.youtube.com/vi/sg31rV1FdQk/0.jpg" /></a></p>
</section>
</section>
<section id="intel-fpga-device-plugin-demo-videos">
<h2>Intel® FPGA Device Plugin demo videos<a class="headerlink" href="#intel-fpga-device-plugin-demo-videos" title="Permalink to this heading"></a></h2>
<p>The screencasts demonstrate the deployment of the Intel® FPGA Device Plugin for
Kubernetes.</p>
<ul class="simple">
<li><p>Demo 1 executes a native loopback 3 (NLB3) workload in preprogrammed mode</p></li>
<li><p>Demo 2 executes NLB3 workload in orchestrated mode</p></li>
<li><p>Demo 3 runs an <a class="reference external" href="https://www.intel.com/content/www/us/en/programmable/support/support-resources/design-examples/design-software/opencl/matrix-multiplication.html">OpenCL workload</a> to do English letters recognition, and compares time used with and without FPGA to show the acceleration.</p></li>
</ul>
<p>The demos begin with a fully <a class="reference external" href="https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/">configured Kubernetes cluster</a>.</p>
<section id="demo-1-and-2-nlb3-platform-configuration">
<h3>Demo 1 and 2 (NLB3) platform configuration<a class="headerlink" href="#demo-1-and-2-nlb3-platform-configuration" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>Hardware</p>
<ul>
<li><p>1-node, Intel(R) Xeon(R) CPU E5-2650 0 &#64; 2.00GHz</p></li>
<li><p>Total memory 62 GB</p></li>
<li><p>2 x Intel® Arria® 10 GX FPGA Programmable Acceleration Card(PAC)</p></li>
</ul>
</li>
<li><p>Software</p>
<ul>
<li><p>openSUSE Leap 15.1 (Kernel: 5.4.5-1.g47eef04-default)</p></li>
<li><p>Kubernetes* 1.17</p></li>
<li><p>CRI-O 1.13.1 (for orchestrated mode)</p></li>
<li><p>Docker 19.03.1 (for preprogrammed mode)</p></li>
<li><p>runc 1.0.0-rc8</p></li>
<li><p>Intel® FPGA Device Plugin built from main branch</p></li>
</ul>
</li>
</ul>
</section>
<section id="demo-3-opencl-platform-configuration">
<h3>Demo 3 (OpenCL) platform configuration<a class="headerlink" href="#demo-3-opencl-platform-configuration" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>Hardware</p>
<ul>
<li><p>Multi-node, FPGA host has 24 cores Intel(R) Xeon(R) Gold 6252N CPU &#64; 2.30GHz</p></li>
<li><p>Total memory 195 GB</p></li>
<li><p>Intel® FPGA Programmable Acceleration Card D5005</p></li>
</ul>
</li>
<li><p>Software</p>
<ul>
<li><p>Centos 7 (Kernel: 3.10.0-1062.12.1.el7.x86_64) on worker node host</p></li>
<li><p>Kubernetes* 1.17</p></li>
<li><p>CRI-O 1.17.3</p></li>
<li><p>Intel® FPGA Device Plugin built from main branch</p></li>
</ul>
</li>
</ul>
</section>
<section id="demo-steps">
<h3>Demo steps<a class="headerlink" href="#demo-steps" title="Permalink to this heading"></a></h3>
<ol class="simple">
<li><p>Validate the status of the <a class="reference external" href="https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/">Kubernetes cluster</a>.</p></li>
<li><p>Provision the <a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes/blob/main/cmd/fpga_plugin/README.md">Intel® FPGA Device Plugin</a>.</p></li>
<li><p>Create bitstream storage (for orchestrated mode only)</p></li>
<li><p>Run the NLB3 or OpenCL workload.</p></li>
</ol>
</section>
<section id="screencasts">
<h3>Screencasts<a class="headerlink" href="#screencasts" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>Intel® FPGA Device Plugin deployment in preprogrammed mode and NLB workload:</p></li>
</ul>
<p><a class="reference external" href="https://asciinema.org/a/oIwOtM8hflsWTDu6UhNVS8401"><img src="https://asciinema.org/a/oIwOtM8hflsWTDu6UhNVS8401.svg" width="700"></a></p>
<ul class="simple">
<li><p>Intel® FPGA Device Plugin deployment with orchestrated/region mode and NLB workload:</p></li>
</ul>
<p><a class="reference external" href="https://asciinema.org/a/sUnLNwpazbUXKdpC66g09W5w1"><img src="https://asciinema.org/a/sUnLNwpazbUXKdpC66g09W5w1.svg" width="700"></a></p>
<ul class="simple">
<li><p>Intel® FPGA Device Plugin deployment with orchestrated/region mode and OpenCL workload:</p></li>
</ul>
<p><a class="reference external" href="https://asciinema.org/a/344184"><img src="https://asciinema.org/a/344184.svg" width="700"></a></p>
</section>
</section>
<section id="intel-sgx-device-plugin-demo-videos">
<h2>Intel® SGX Device Plugin demo videos<a class="headerlink" href="#intel-sgx-device-plugin-demo-videos" title="Permalink to this heading"></a></h2>
<p>This video demonstrates the Intel® Software Guard Extensions ECDSA Quote Generation in Kubernetes*</p>
<ul class="simple">
<li><p>Hardware</p>
<ul>
<li><p>1-node, 3rd Generation Intel® Xeon® Scalable Platform, code-named “Ice Lake”</p></li>
</ul>
</li>
<li><p>Software</p>
<ul>
<li><p>18.04.5 LTS</p></li>
<li><p>Kubernetes* 1.19</p></li>
<li><p>containerd 1.3.3</p></li>
<li><p>Intel® SGX Device Plugin built from main branch</p></li>
<li><p>Intel® SGX SDK 2.12 and DCAP 1.9</p></li>
<li><p>node-feature-discovery 0.6.0</p></li>
</ul>
</li>
</ul>
<section id="id1">
<h3>Demo steps<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<ol class="simple">
<li><p>Validate the status of the <a class="reference external" href="https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/">Kubernetes cluster</a>.</p></li>
<li><p>Provision <a class="reference external" href="https://github.com/kubernetes-sigs/node-feature-discovery">node-feature-discovery</a>.</p></li>
<li><p>Provision the <a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes/blob/main/cmd/sgx_plugin/README.md">Intel® SGX Device Plugin</a> using <a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes/blob/main/cmd/operator/README.md">Intel® Device Plugin Operator</a>.</p></li>
<li><p>Check the SGX resources and labels are correctly registered.</p></li>
<li><p>Run Intel® SGX DCAP ECDSA Quote Generation in both “out-of-proc” and “in-proc” modes.</p></li>
</ol>
</section>
<section id="id2">
<h3>Screencasts<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h3>
<p>Intel® SGX Device Plugin and SGX DCAP ECDSA Quote Generation demo
<a class="reference external" href="https://asciinema.org/a/0xa888OjktVyz6xf0RSQ6Pi0w"><img src="https://asciinema.org/a/0xa888OjktVyz6xf0RSQ6Pi0w.svg" width="700"></a></p>
</section>
</section>
<section id="intel-quickassist-technology-device-plugin-openssl-demo-video">
<h2>Intel® QuickAssist Technology Device Plugin OpenSSL demo video<a class="headerlink" href="#intel-quickassist-technology-device-plugin-openssl-demo-video" title="Permalink to this heading"></a></h2>
<p>The screencast demonstrates the deployment of the <a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes/blob/main/cmd/qat_plugin/README.md">Intel® QAT Device Plugin</a> for
Kubernetes and executes a sample QAT accelerated OpenSSL workload with the OCI
compatible Kata Containers runtime, a lightweight Virtual Machine (VM) that feels
and performs like traditional containers, but provides the workload isolation
and security advantages of VMs. The demo begins with a fully <a class="reference external" href="https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/">configured Kubernetes cluster</a>
and <a class="reference external" href="https://github.com/kata-containers/documentation/tree/master/install">Kata Containers</a> runtime for workloads.</p>
<section id="id3">
<h3>Demo platform configuration<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>Hardware</p>
<ul>
<li><p>1-node, 2x Intel® Xeon® CPU E5-2687W v4 &#64; 3.00GHz</p></li>
<li><p>Total memory 251 GB DDR4</p></li>
<li><p>Intel® QAT C62x chipset</p></li>
</ul>
</li>
<li><p>Software</p>
<ul>
<li><p>OpenSUSE* 15 (Kernel:4.12.14-lp150.12.22-default)</p></li>
<li><p>Kubernetes* 1.12</p></li>
<li><p>Containerd 1.2</p></li>
<li><p>Kata Containers* 1.3.0</p></li>
<li><p>Intel® QAT Device Plugin built from main</p></li>
<li><p>QAT 1.7 L.4.3.0-00033</p></li>
</ul>
</li>
</ul>
</section>
<section id="id4">
<h3>Demo steps<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h3>
<ol class="simple">
<li><p>Load the host drivers and prepare the virtual function (VF) devices.</p></li>
<li><p>Check the Kubernetes cluster is in good shape.</p></li>
<li><p>Deploy the Intel® QAT device plugin for Kubernetes.</p></li>
<li><p>Deploy an Intel® QAT Accelerated OpenSSL workload.</p></li>
<li><p>Testing!</p></li>
</ol>
</section>
<section id="id5">
<h3>Screencast<a class="headerlink" href="#id5" title="Permalink to this heading"></a></h3>
<p>Intel® QAT Device Plugin deployment</p>
<p><a class="reference external" href="https://asciinema.org/a/2N7wF3c9oeCuB9sFqTNm2gmOr"><img src="https://asciinema.org/a/2N7wF3c9oeCuB9sFqTNm2gmOr.svg" height=600></a></p>
</section>
</section>
<section id="intel-quickassist-technology-device-plugin-with-dpdk-demo-video">
<h2>Intel® QuickAssist Technology Device Plugin with DPDK demo video<a class="headerlink" href="#intel-quickassist-technology-device-plugin-with-dpdk-demo-video" title="Permalink to this heading"></a></h2>
<section id="id6">
<h3>Demo steps<a class="headerlink" href="#id6" title="Permalink to this heading"></a></h3>
<ol class="simple">
<li><p>Check health of Kubernetes nodes.</p></li>
<li><p>Check for allocatable resources.</p></li>
<li><p>List QAT Virtual Functions.</p></li>
<li><p>Deploy QAT Device Plugin as a Daemonset.</p></li>
<li><p>Check again for allocatable resources.</p></li>
<li><p>List QAT Virtual Functions again, ensuring they are now bound to DPDK driver.</p></li>
<li><p>View pod specification file for pod requesting QAT VFs.</p></li>
<li><p>Create pod requesting QAT VFs.</p></li>
<li><p>Get a shell to the running container and run a DPDK application.</p></li>
</ol>
</section>
<section id="id7">
<h3>Screencast<a class="headerlink" href="#id7" title="Permalink to this heading"></a></h3>
<p>Intel® QAT Device Plugin with DPDK:</p>
<p><a class="reference external" href="https://asciinema.org/a/PoWOz4q2lX4AF4K9A2AV1RtSA"><img src="https://asciinema.org/a/PoWOz4q2lX4AF4K9A2AV1RtSA.svg" width=700></a></p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../cmd/sgx_admissionwebhook/README.html" class="btn btn-neutral float-left" title="Intel SGX admission controller for Kubernetes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, various.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>