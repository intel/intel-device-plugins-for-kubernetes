<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Overview &mdash; Intel® Device Plugins for Kubernetes  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Development" href="DEVEL.html" />
    <link rel="prev" title="Intel® Device Plugins for Kubernetes" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Intel® Device Plugins for Kubernetes
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plugins">Plugins</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gpu-device-plugin">GPU device plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fpga-device-plugin">FPGA device plugin</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#device-plugin">device plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="#admission-controller">admission controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cri-o-prestart-hook">CRI-O prestart hook</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#qat-device-plugin">QAT device plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vpu-device-plugin">VPU device plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgx-device-plugin">SGX device plugin</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">device plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgx-admission-webhook">SGX Admission webhook</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgx-epc-memory-registration">SGX EPC memory registration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dsa-device-plugin">DSA device plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dlb-device-plugin">DLB device plugin</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#device-plugins-operator">Device Plugins Operator</a></li>
<li class="toctree-l2"><a class="reference internal" href="#demos">Demos</a></li>
<li class="toctree-l2"><a class="reference internal" href="#developers">Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-e2e-tests">Running E2E tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-controller-tests-with-a-local-control-plane">Running controller tests with a local control plane</a></li>
<li class="toctree-l2"><a class="reference internal" href="#supported-kubernetes-versions">Supported Kubernetes versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pre-built-plugin-images">Pre-built plugin images</a></li>
<li class="toctree-l2"><a class="reference internal" href="#license">License</a></li>
<li class="toctree-l2"><a class="reference internal" href="#security">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="#related-code">Related code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="DEVEL.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs/extensions.html">Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo/readme.html">Demo</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes">Project GitHub repository</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Intel® Device Plugins for Kubernetes</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Overview</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/README.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h1>
<p><a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes/actions?query=workflow%3ACI"><img alt="Build Status" src="https://github.com/intel/intel-device-plugins-for-kubernetes/workflows/CI/badge.svg?branch=main" /></a>
<a class="reference external" href="https://goreportcard.com/report/github.com/intel/intel-device-plugins-for-kubernetes"><img alt="Go Report Card" src="https://goreportcard.com/badge/github.com/intel/intel-device-plugins-for-kubernetes" /></a>
<a class="reference external" href="https://godoc.org/github.com/intel/intel-device-plugins-for-kubernetes/pkg/deviceplugin"><img alt="GoDoc" src="https://godoc.org/github.com/intel/intel-device-plugins-for-kubernetes/pkg/deviceplugin?status.svg" /></a></p>
<p>This repository contains a framework for developing plugins for the Kubernetes
<a class="reference external" href="https://kubernetes.io/docs/concepts/extend-kubernetes/compute-storage-net/device-plugins/">device plugins framework</a>,
along with a number of device plugin implementations utilising that framework.</p>
<p>The <a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes/releases/latest">v0.23 release</a>
is the latest feature release with its documentation available <a class="reference external" href="https://intel.github.io/intel-device-plugins-for-kubernetes/0.23/">here</a>.</p>
<p>Table of Contents</p>
<ul class="simple">
<li><p><a class="reference external" href="#prerequisites">Prerequisites</a></p></li>
<li><p><a class="reference external" href="#plugins">Plugins</a></p>
<ul>
<li><p><a class="reference external" href="#gpu-device-plugin">GPU device plugin</a></p></li>
<li><p><a class="reference external" href="#fpga-device-plugin">FPGA device plugin</a></p></li>
<li><p><a class="reference external" href="#qat-device-plugin">QAT device plugin</a></p></li>
<li><p><a class="reference external" href="#vpu-device-plugin">VPU device plugin</a></p></li>
<li><p><a class="reference external" href="#sgx-device-plugin">SGX device plugin</a></p></li>
<li><p><a class="reference external" href="#dsa-device-plugin">DSA device plugin</a></p></li>
<li><p><a class="reference external" href="#dlb-device-plugin">DLB device plugin</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#device-plugins-operator">Device Plugins Operator</a></p></li>
<li><p><a class="reference external" href="#demos">Demos</a></p></li>
<li><p><a class="reference external" href="#developers">Developers</a></p></li>
<li><p><a class="reference external" href="#running-e2e-tests">Running e2e Tests</a></p></li>
<li><p><a class="reference external" href="#supported-kubernetes-versions">Supported Kubernetes versions</a></p></li>
<li><p><a class="reference external" href="#pre-built-plugin-images">Pre-built plugin images</a></p></li>
<li><p><a class="reference external" href="#license">License</a></p></li>
<li><p><a class="reference external" href="#security">Security</a></p></li>
<li><p><a class="reference external" href="#related-code">Related code</a></p></li>
</ul>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this heading"></a></h2>
<p>Prerequisites for building and running these device plugins include:</p>
<ul class="simple">
<li><p>Appropriate hardware</p></li>
<li><p>A fully configured <a class="reference external" href="https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/">Kubernetes cluster</a></p></li>
<li><p>A working <a class="reference external" href="https://golang.org/doc/install">Go environment</a>, of at least version v1.16.</p></li>
</ul>
</section>
<section id="plugins">
<h2>Plugins<a class="headerlink" href="#plugins" title="Permalink to this heading"></a></h2>
<p>The below sections detail existing plugins developed using the framework.</p>
<section id="gpu-device-plugin">
<h3>GPU device plugin<a class="headerlink" href="#gpu-device-plugin" title="Permalink to this heading"></a></h3>
<p>The <a class="reference internal" href="cmd/gpu_plugin/README.html"><span class="doc">GPU device plugin</span></a> provides access to Intel discrete (Xe)
and integrated GPU HW device files.</p>
<p>The demo subdirectory contains both a <a class="reference external" href="demo/readme.html#intel-gpu-device-plugin-demo-video">GPU plugin demo video</a>
and an OpenCL sample deployment (<code class="docutils literal notranslate"><span class="pre">intelgpu-job.yaml</span></code>).</p>
</section>
<section id="fpga-device-plugin">
<h3>FPGA device plugin<a class="headerlink" href="#fpga-device-plugin" title="Permalink to this heading"></a></h3>
<p>The <a class="reference internal" href="cmd/fpga_plugin/README.html"><span class="doc">FPGA device plugin</span></a> supports FPGA passthrough for
the following hardware:</p>
<ul class="simple">
<li><p>Intel Arria 10</p></li>
<li><p>Intel Stratix 10</p></li>
</ul>
<p>The FPGA plugin comes as three parts.</p>
<ul class="simple">
<li><p>the <a class="reference external" href="#device-plugin">device plugin</a></p></li>
<li><p>the <a class="reference external" href="#admission-controller">admission controller</a></p></li>
<li><p>the <a class="reference external" href="#cri-o-prestart-hook">CRIO-O prestart hook</a></p></li>
</ul>
<p>Refer to each individual sub-components documentation for more details. Brief overviews
of the sub-components are below.</p>
<p>The demo subdirectory contains a <a class="reference external" href="demo/readme.html#intel-fpga-device-plugin-demo-video">video</a> showing deployment
and use of the FPGA plugin. Sources relating to the demo can be found in the
<a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes/tree/cdf4905bfc7b1491975062077c92a0689da70bd8/demo/opae-nlb-demo">opae-nlb-demo</a> subdirectory.</p>
<section id="device-plugin">
<h4>device plugin<a class="headerlink" href="#device-plugin" title="Permalink to this heading"></a></h4>
<p>The <a class="reference internal" href="cmd/fpga_plugin/README.html"><span class="doc">FPGA device plugin</span></a> is responsible for discovering and reporting FPGA
devices to <code class="docutils literal notranslate"><span class="pre">kubelet</span></code>.</p>
</section>
<section id="admission-controller">
<h4>admission controller<a class="headerlink" href="#admission-controller" title="Permalink to this heading"></a></h4>
<p>The <a class="reference internal" href="cmd/fpga_admissionwebhook/README.html"><span class="doc">FPGA admission controller webhook</span></a> is responsible for performing
mapping from user-friendly function IDs to the Interface ID and Bitstream ID that are required for FPGA
programming.  It also implements access control by namespacing FPGA configuration information.</p>
</section>
<section id="cri-o-prestart-hook">
<h4>CRI-O prestart hook<a class="headerlink" href="#cri-o-prestart-hook" title="Permalink to this heading"></a></h4>
<p>The <a class="reference internal" href="cmd/fpga_crihook/README.html"><span class="doc">FPGA prestart CRI-O hook</span></a> performs discovery of the requested FPGA
function bitstream and programs FPGA devices based on the environment variables in the workload
description.</p>
</section>
</section>
<section id="qat-device-plugin">
<h3><a class="reference external" href="https://01.org/intel-quick-assist-technology">QAT</a> device plugin<a class="headerlink" href="#qat-device-plugin" title="Permalink to this heading"></a></h3>
<p>The <a class="reference internal" href="cmd/qat_plugin/README.html"><span class="doc">QAT plugin</span></a> supports device plugin for Intel QAT adapters, and includes
code <a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes/tree/cdf4905bfc7b1491975062077c92a0689da70bd8/cmd/qat_plugin/dpdkdrv">showing deployment</a> via <a class="reference external" href="https://doc.dpdk.org/guides/cryptodevs/qat.html">DPDK</a>.</p>
<p>The demo subdirectory includes details of both a
<a class="reference external" href="demo/readme.html#intel-quickassist-technology-device-plugin-with-dpdk-demo-video">QAT DPDK demo</a>
and a <a class="reference external" href="demo/readme.html#intel-quickassist-technology-device-plugin-openssl-demo-video">QAT OpenSSL demo</a>.
Source for the OpenSSL demo can be found in the <a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes/tree/cdf4905bfc7b1491975062077c92a0689da70bd8/demo/openssl-qat-engine">relevant subdirectory</a>.</p>
<p>Details for integrating the QAT device plugin into <a class="reference external" href="https://katacontainers.io/">Kata Containers</a>
can be found in the
<a class="reference external" href="https://github.com/kata-containers/kata-containers/blob/main/docs/use-cases/using-Intel-QAT-and-kata.md">Kata Containers documentation repository</a>.</p>
</section>
<section id="vpu-device-plugin">
<h3>VPU device plugin<a class="headerlink" href="#vpu-device-plugin" title="Permalink to this heading"></a></h3>
<p>The <a class="reference internal" href="cmd/vpu_plugin/README.html"><span class="doc">VPU device plugin</span></a> supports Intel VCAC-A card
(https://www.intel.com/content/dam/www/public/us/en/documents/datasheets/media-analytics-vcac-a-accelerator-card-by-celestica-datasheet.pdf)
the card has:</p>
<ul class="simple">
<li><p>1 Intel Core i3-7100U processor</p></li>
<li><p>12 MyriadX VPUs</p></li>
<li><p>8GB DDR4 memory</p></li>
</ul>
<p>The demo subdirectory includes details of a OpenVINO deployment and use of the VPU plugin.
Sources can be found in <a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes/tree/cdf4905bfc7b1491975062077c92a0689da70bd8/demo/ubuntu-demo-openvino">openvino-demo</a></p>
</section>
<section id="sgx-device-plugin">
<h3>SGX device plugin<a class="headerlink" href="#sgx-device-plugin" title="Permalink to this heading"></a></h3>
<p>The <a class="reference internal" href="cmd/sgx_plugin/README.html"><span class="doc">SGX device plugin</span></a> allows workloads to use Intel SGX on
platforms with SGX Flexible Launch Control enabled, e.g.,:</p>
<ul class="simple">
<li><p>3rd Generation Intel® Xeon® Scalable Platform, code-named “Ice Lake”</p></li>
<li><p>Intel® Xeon® E3</p></li>
<li><p>Intel® NUC Kit NUC7CJYH</p></li>
</ul>
<p>The SGX plugin comes in three parts.</p>
<ul class="simple">
<li><p>the <a class="reference external" href="#sgx-plugin">device plugin</a></p></li>
<li><p>the <a class="reference external" href="#sgx-admission-webhook">admission webhook</a></p></li>
<li><p>the <a class="reference external" href="#sgx-epc-memory-registration">SGX EPC memory registration</a></p></li>
</ul>
<p>The demo subdirectory contains a <a class="reference external" href="demo/readme.html#intel-sgx-device-plugin-demo-video">video</a> showing the deployment
and use of the SGX device plugin. Sources relating to the demo can be found in the
<a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes/tree/cdf4905bfc7b1491975062077c92a0689da70bd8/demo/sgx-sdk-demo">sgx-sdk-demo</a> and <a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes/tree/cdf4905bfc7b1491975062077c92a0689da70bd8/demo/sgx-aesmd-demo">sgx-aesmd-demo</a> subdirectories.</p>
<p>Brief overviews of the SGX sub-components are given below.</p>
<p><a name="sgx-plugin"></a></p>
<section id="id1">
<h4>device plugin<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h4>
<p>The <a class="reference internal" href="cmd/sgx_plugin/README.html"><span class="doc">SGX device plugin</span></a> is responsible for discovering and reporting SGX
device nodes to <code class="docutils literal notranslate"><span class="pre">kubelet</span></code>.</p>
<p>Containers requesting SGX resources in the cluster should not use the device plugins resources directly.</p>
</section>
<section id="sgx-admission-webhook">
<h4>SGX Admission webhook<a class="headerlink" href="#sgx-admission-webhook" title="Permalink to this heading"></a></h4>
<p>The SGX admission webhook is responsible for performing Pod mutations based on the <code class="docutils literal notranslate"><span class="pre">sgx.intel.com/quote-provider</span></code>
pod annotation set by the user. The purpose of the webhook is to hide the details of setting the necessary
device resources and volume mounts for using SGX remote attestation in the cluster. Furthermore,
the SGX admission webhook is responsible for writing a pod/sandbox <code class="docutils literal notranslate"><span class="pre">sgx.intel.com/epc</span></code> annotation that is used by
Kata Containers to dynamically adjust its virtualized SGX encrypted page cache (EPC) bank(s) size.</p>
<p>The SGX admission webhook is available as part of <a class="reference internal" href="cmd/operator/README.html"><span class="doc">Intel Device Plugin Operator</span></a> or
as a standalone <a class="reference internal" href="cmd/sgx_admissionwebhook/README.html"><span class="doc">SGX Admission webhook image</span></a>.</p>
</section>
<section id="sgx-epc-memory-registration">
<h4>SGX EPC memory registration<a class="headerlink" href="#sgx-epc-memory-registration" title="Permalink to this heading"></a></h4>
<p>The SGX EPC memory available on each node is registered as a Kubernetes extended resource using
node-feature-discovery (NFD). A custom NFD source hook is installed as part of <a class="reference internal" href="cmd/sgx_plugin/README.html"><span class="doc">SGX device plugin</span></a>
operator deployment and NFD is configured to register the SGX EPC memory extended resource reported by the hook.</p>
<p>Containers requesting SGX EPC resources in the cluster use <code class="docutils literal notranslate"><span class="pre">sgx.intel.com/epc</span></code> resource which is of
type <a class="reference external" href="https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#meaning-of-memory">memory</a>.</p>
</section>
</section>
<section id="dsa-device-plugin">
<h3>DSA device plugin<a class="headerlink" href="#dsa-device-plugin" title="Permalink to this heading"></a></h3>
<p>The <a class="reference internal" href="cmd/dsa_plugin/README.html"><span class="doc">DSA device plugin</span></a> supports acceleration using the Intel Data Streaming accelerator(DSA).</p>
</section>
<section id="dlb-device-plugin">
<h3>DLB device plugin<a class="headerlink" href="#dlb-device-plugin" title="Permalink to this heading"></a></h3>
<p>The <a class="reference internal" href="cmd/dlb_plugin/README.html"><span class="doc">DLB device plugin</span></a> supports Intel Dynamic Load Balancer accelerator(DLB).</p>
</section>
</section>
<section id="device-plugins-operator">
<h2>Device Plugins Operator<a class="headerlink" href="#device-plugins-operator" title="Permalink to this heading"></a></h2>
<p>To simplify the deployment of the device plugins, a unified device plugins operator is implemented.</p>
<p>Currently the operator has support for the QAT, GPU, FPGA, SGX, DSA and DLB device plugins. Each
device plugin has its own custom resource definition (CRD) and the corresponding controller that
watches CRUD operations to those custom resources.</p>
<p>The <a class="reference internal" href="cmd/operator/README.html"><span class="doc">Device plugins operator README</span></a> gives the installation and usage
details. The operator is also available via <a class="reference external" href="https://operatorhub.io/operator/intel-device-plugins-operator">operatorhub.io</a>.</p>
</section>
<section id="demos">
<h2>Demos<a class="headerlink" href="#demos" title="Permalink to this heading"></a></h2>
<p>The <a class="reference internal" href="demo/readme.html"><span class="doc">demo subdirectory</span></a> contains a number of demonstrations for a variety of the
available plugins.</p>
</section>
<section id="developers">
<h2>Developers<a class="headerlink" href="#developers" title="Permalink to this heading"></a></h2>
<p>For information on how to develop a new plugin using the framework, see the
<a class="reference internal" href="DEVEL.html"><span class="doc">Developers Guide</span></a> and the code in the
<a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes/tree/cdf4905bfc7b1491975062077c92a0689da70bd8/pkg/deviceplugin">device plugins pkg directory</a>.</p>
</section>
<section id="running-e2e-tests">
<h2>Running E2E tests<a class="headerlink" href="#running-e2e-tests" title="Permalink to this heading"></a></h2>
<p>Currently the E2E tests require having a Kubernetes cluster already configured
on the nodes with the hardware required by the device plugins. Also all the
container images with the executables under test must be available in the
cluster. Given these two conditions are satisfied one can run the tests with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ go <span class="nb">test</span> -v ./test/e2e/...
</pre></div>
</div>
<p>In case you want to run only certain tests, e.g. QAT ones, then run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ go <span class="nb">test</span> -v ./test/e2e/... -args -ginkgo.focus <span class="s2">&quot;QAT&quot;</span>
</pre></div>
</div>
<p>If you need to specify paths to your custom <code class="docutils literal notranslate"><span class="pre">kubeconfig</span></code> containing
embedded authentication info then add the <code class="docutils literal notranslate"><span class="pre">-kubeconfig</span></code> argument:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ go <span class="nb">test</span> -v ./test/e2e/... -args -kubeconfig /path/to/kubeconfig
</pre></div>
</div>
<p>The full list of available options can be obtained with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ go <span class="nb">test</span> ./test/e2e/... -args -help
</pre></div>
</div>
<p>Also it is possible to run the tests which don’t depend on hardware
without a pre-configured Kubernetes cluster. Just make sure you have
<a class="reference external" href="https://kind.sigs.k8s.io/">Kind</a> installed on your host and run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make test-with-kind
</pre></div>
</div>
</section>
<section id="running-controller-tests-with-a-local-control-plane">
<h2>Running controller tests with a local control plane<a class="headerlink" href="#running-controller-tests-with-a-local-control-plane" title="Permalink to this heading"></a></h2>
<p>The controller-runtime library provides a package for integration testing by
starting a local control plane. The package is called
<a class="reference external" href="https://pkg.go.dev/sigs.k8s.io/controller-runtime/pkg/envtest">envtest</a>. The
operator uses this package for its integration testing.
Please have a look at <code class="docutils literal notranslate"><span class="pre">envtest</span></code>’s documentation to set up it properly. But basically
you just need to have <code class="docutils literal notranslate"><span class="pre">etcd</span></code> and <code class="docutils literal notranslate"><span class="pre">kube-apiserver</span></code> binaries available on your
host. By default they are expected to be located at <code class="docutils literal notranslate"><span class="pre">/usr/local/kubebuilder/bin</span></code>.
But you can have it stored anywhere by setting the <code class="docutils literal notranslate"><span class="pre">KUBEBUILDER_ASSETS</span></code>
environment variable. So, given you have the binaries copied to
<code class="docutils literal notranslate"><span class="pre">${HOME}/work/kubebuilder-assets</span></code> to run the tests just enter</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nv">KUBEBUILDER_ASSETS</span><span class="o">=</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/work/kubebuilder-assets make envtest
</pre></div>
</div>
</section>
<section id="supported-kubernetes-versions">
<h2>Supported Kubernetes versions<a class="headerlink" href="#supported-kubernetes-versions" title="Permalink to this heading"></a></h2>
<p>Releases are made under the github <a class="reference external" href="https://github.com/intel/intel-device-plugins-for-kubernetes/releases">releases area</a>. Supported releases and
matching Kubernetes versions are listed below:</p>
<table border="1" class="docutils">
<thead>
<tr>
<th style="text-align: left;">Branch</th>
<th style="text-align: left;">Kubernetes branch/version</th>
<th style="text-align: left;">Status</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">release-0.23</td>
<td style="text-align: left;">Kubernetes 1.23 branch v1.23.x</td>
<td style="text-align: left;">supported</td>
</tr>
<tr>
<td style="text-align: left;">release-0.22</td>
<td style="text-align: left;">Kubernetes 1.22 branch v1.22.x</td>
<td style="text-align: left;">supported</td>
</tr>
<tr>
<td style="text-align: left;">release-0.21</td>
<td style="text-align: left;">Kubernetes 1.21 branch v1.21.x</td>
<td style="text-align: left;">supported</td>
</tr>
<tr>
<td style="text-align: left;">release-0.20</td>
<td style="text-align: left;">Kubernetes 1.20 branch v1.20.x</td>
<td style="text-align: left;">unsupported</td>
</tr>
<tr>
<td style="text-align: left;">release-0.19</td>
<td style="text-align: left;">Kubernetes 1.19 branch v1.19.x</td>
<td style="text-align: left;">unsupported</td>
</tr>
<tr>
<td style="text-align: left;">release-0.18</td>
<td style="text-align: left;">Kubernetes 1.18 branch v1.18.x</td>
<td style="text-align: left;">unsupported</td>
</tr>
<tr>
<td style="text-align: left;">release-0.17</td>
<td style="text-align: left;">Kubernetes 1.17 branch v1.17.x</td>
<td style="text-align: left;">unsupported</td>
</tr>
<tr>
<td style="text-align: left;">release-0.15</td>
<td style="text-align: left;">Kubernetes 1.15 branch v1.15.x</td>
<td style="text-align: left;">unsupported</td>
</tr>
<tr>
<td style="text-align: left;">release-0.11</td>
<td style="text-align: left;">Kubernetes 1.11 branch v1.11.x</td>
<td style="text-align: left;">unsupported</td>
</tr>
</tbody>
</table></section>
<section id="pre-built-plugin-images">
<h2>Pre-built plugin images<a class="headerlink" href="#pre-built-plugin-images" title="Permalink to this heading"></a></h2>
<p>Pre-built images of the plugins are available on the Docker hub. These images are automatically built and uploaded to the hub from the latest main branch of this repository.</p>
<p>Release tagged images of the components are also available on the Docker hub, tagged with their release version numbers in the format x.y.z, corresponding to the branches and releases in this repository.</p>
<p><strong>Note:</strong> the default deployment files and operators are configured with <a class="reference external" href="https://kubernetes.io/docs/concepts/containers/images/#updating-images">imagePullPolicy</a> <code class="docutils literal notranslate"><span class="pre">IfNotPresent</span></code> and can be changed with <code class="docutils literal notranslate"><span class="pre">scripts/set-image-pull-policy.sh</span></code>.</p>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this heading"></a></h2>
<p>All of the source code required to build intel-device-plugins-for-kubernetes
is available under Open Source licenses. The source code files identify external Go
modules used. Binaries are distributed as container images on
DockerHub. Those images contain license texts under
<code class="docutils literal notranslate"><span class="pre">/usr/local/share/package-licenses</span></code> and source code under
<code class="docutils literal notranslate"><span class="pre">/usr/local/share/package-sources</span></code>.</p>
</section>
<section id="security">
<h2>Security<a class="headerlink" href="#security" title="Permalink to this heading"></a></h2>
<p><strong>Reporting a Potential Security Vulnerability</strong>: If you have discovered
potential security vulnerability in this project, please send an e-mail to
secure&#64;intel.com. Encrypt sensitive information using our <a class="reference external" href="https://www.intel.com/content/www/us/en/security-center/pgp-public-key.html">PGP public key</a>.</p>
<p>Please provide as much information as possible, including:</p>
<ul class="simple">
<li><p>The projects and versions affected</p></li>
<li><p>Detailed description of the vulnerability</p></li>
<li><p>Information on known exploits</p></li>
</ul>
<p>A member of the Intel Product Security Team will review your e-mail and
contact you to collaborate on resolving the issue. For more information on
how Intel works to resolve security issues, see <a class="reference external" href="https://www.intel.com/content/www/us/en/security-center/vulnerability-handling-guidelines.html">Vulnerability Handling Guidelines</a>.</p>
</section>
<section id="related-code">
<h2>Related code<a class="headerlink" href="#related-code" title="Permalink to this heading"></a></h2>
<p>A related Intel SRIOV network device plugin can be found in <a class="reference external" href="https://github.com/intel/sriov-network-device-plugin">this repository</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Intel® Device Plugins for Kubernetes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="DEVEL.html" class="btn btn-neutral float-right" title="Development" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, various.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>